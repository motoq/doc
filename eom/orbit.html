<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN"
         "http://www.w3.org/TR/html4/strict.dtd">
<HTML>
<HEAD>
<TITLE>Orbit Definitions</TITLE>
</HEAD>
<BODY>
<!-- =============================================================== -->
<DIV ALIGN="center">
<H1>Orbit Definitions</H1>
</DIV>

<H3>Orbit Definition Types</H3> 

<A HREF="#Orbit">Orbit Propagator Models</A>
<P>
<A HREF="#OrbitRelative">Relative Orbit</A>
<P>
<A HREF="#OrbitEph">External Ephemerides</A>

<A NAME="Orbit"></A><H3>Orbit Propagator Models</H3>

The <I>Orbit</I> keyword is used to define either general perturbation
(GP) or special Perturbation (SP) methods for orbit propagation.  The
name of the object, propagator model, epoch, and state vector are
required after the <I>Orbit</I> keyword.  GP methods require no further
inputs.  SP methods should include a
<A HREF="propagator_config.html">Propagator</A> entry otherwise the
default model will be used.  Relative orbits are based on a previously
defined orbit and external ephemerides are read in from a file.

<P>

Five type of orbit definitions are illustrated by the below example.

<PRE>
SimStart GD 2022  2  8  0  0  0.00;
SimDuration Days 3.75;
LeapSeconds 37;
EcfEciRate Minutes 240;
DistanceUnits  Kilometers;
TimeUnits Seconds;
PropagatorConfig  grav_srp   GravityModel  Standard 40 40
                             MoonGravity  Meeus
                             SunGravity   Meeus
                             SRP Spherical 1.5 0.00008
                             Integrator  GJ Seconds 0;
#
# Start Orbit Definitions
#
  # Precision SLR based ephemeris from NASA’s Crustal Dynamics
  # Data Information System (CDDIS) 
EphemerisFile nsgf_starlette  SP3c Hermite nsgf.orb.starlette.220212.v00.sp3;
  # SP Method using initialized with first state vector from
  # nsgf.orb.starlette.220212.v00.sp3 above
Orbit  sp_starlette  SP  GD 2022  2  8  0  0  0.00
       CART  ITRF  -5742.304959   2727.319108   3934.171919
                   0.1162318900 -5.6156839000  3.9837925000
                   Propagator grav_srp;
  # GP Vinti J2-only with same state vector as SP method
Orbit  vinti_starlette  VintiJ2 GD  2022  2  8  0  0  00.0
       CART  ITRF  -5742.304959   2727.319108   3934.171919
                   0.1162318900 -5.6156839000  3.9837925000;
  # SGP4:  Corresponding TLE from space-track.org
TLE  sgp4_starlette;
1 07646U 75010A   22038.91861585 -.00000134  00000-0  53389-5 0  9996
2 07646  49.8229 261.4733 0205735 209.7169 149.1906 13.82310827374561
  # Relative orbit based on SP version of Starlette
RelativeOrbit  rel_starlette  sp_starlette  RTCT  5.0  0.0  5.0  0.0;
#
# End Orbit Definitions
#
TimeUnits Minutes;
OutputRate Minutes 5;
Command PrintRangeSpectrum nsgf_starlette sp_starlette starlette_rs;
Command PrintRangeSpectrum nsgf_starlette vinti_starlette starlette_vinti_rs;
Command PrintRangeSpectrum nsgf_starlette sgp4_starlette starlette_sgp4_rs;
OutputRate Minutes 1;
Command PrintRTC  nsgf_starlette sp_starlette starlette_rtc;
Command PrintRTC  vinti_starlette rel_starlette starlette_rel_rtc;
</PRE>

<P>

The first orbit loads an SLR based ephemeris file from NASA’s Crustal Dynamics
Data Information System (CDDIS).  The EphemerisFile keyword is followed
by the orbit name and filename to read.  The second and third orbits are
initiated with the Orbit keyword, epoch, and state vector.  The TLE
orbit definition requires an SGP4 compatible two line element set.
Finally, a relative orbit is defined where a previously created orbit
acts as a template.

<P>

<A NAME="OrbitModel"></A><H4>Orbit Model Types</H4>

The <I>Orbit</I> keyword is used to create orbits based on a state
vector (Cartesian or orbital elements) and epoch time.  SP methods
should also define a <A HREF="propagator_config.html">PropagatorConfig</A>
entry.

<P style="background-color:LightCyan;">
<font face = "courier">
<I>Kepler1</I>
</font>
</P>

<Q>Kepler1</Q> two-body GP model based off of Vinti's work and implemented
by Gim J. Der and Herbert B. Reynolds, original available via
<A HREF="https://arc.aiaa.org/doi/suppl/10.2514/4.866487/">AIAA</A>.

<P style="background-color:LightCyan;">
<font face = "courier">
<I>Vinti6</I>
</font>
</P>

<Q>Vinti6</Q> GP model with full J2 and partial J3 zonal effects, based off
Vinti's work and implemented by Gim J. Der and Herbert B. Reynolds,
original available via
<A HREF="https://arc.aiaa.org/doi/suppl/10.2514/4.866487/">AIAA</A>.
Unlike most analytic propagators, the Vinti model is initialized with
state vectors, or those derived directly from osculating element sets
(vs. mean element sets).  For more information, see
<Q>Orbital and Celestial Mechanics</Q>, Nino L. Bonavito, Gim J. Der, and
John P. Vinti, AIAA, 1998.

<P style="background-color:LightCyan;">
<font face = "courier">
<I>VintiJ2</I>
</font>
</P>

The <Q>Vinti6</Q> model described above, but limited to only the J2
zonal spherical harmonic.  A true J2 propagator (vs. the typical secular
versions requiring mean element sets).

<P style="background-color:LightCyan;">
<font face = "courier">
<I>VintiMod</I>
</font>
</P>

The <Q>Vinti6</Q> model described above, but limited to only the J2
zonal spherical harmonic.  A true J2 propagator (vs. the typical secular
versions requiring mean element sets).  This version differs from
<Q>VintiJ2</Q> in that it has been reworked, fully separating
initialization from propagation, increasing computational efficiency.

<P style="background-color:LightCyan;">
<font face = "courier">
<I>SecJ2</I>
</font>
</P>

GENPL option implementing standard secular J2 effects, best initialized
with mean element sets.

<P style="background-color:LightCyan;">
<font face = "courier">
<I>OscJ2</I>
</font>
</P>

GENPL option implementing a highly optimized version of the Vinti
propagator.

<P style="background-color:LightCyan;">
<font face = "courier">
<I>SP</I>
</font>
</P>

Special perturbations methods.  The equations of motion are resolved
through the use of numerical integration of models based on the
<A HREF="propagator_config.html">propagator configuration</A>.


<A NAME="OrbitRelative"></A><H3>Relative Orbit</H3> 

Allows for a relative orbit to be specified based on a <I>RTC</I>
relative bounding box and transverse distance offset.  The method is
based on <Q>Spacecraft Relative Orbit Geometry Description Through Orbit
Element Differences</Q> by Hanspeter Schaub.  This method of defining a
bounding box and offset automatically guarantees the energy matching
constraint.  The resulting orbit definitions are propagated in inertial
space, not a linearized reference frame intended for control systems
only.  This method is not limited to circular orbits.

<P>

The syntax is:

<P style="background-color:LightCyan;">
<font face = "courier">
<B>RelativeOrbit</B> <I>orbit_name template_orbit_name RTC
dR dT dC deltaT</I>
</font>
</P>

The values <I>dR dT dC</I> define the <I>desired</I> bounding box limits
of the relative orbit.  Some values may be exceeded to meet minimum
values.  The <I>deltaT</I> parameter is an along-track offset between
the orbit centers.


<A NAME="OrbitEph"></A><H3>External Ephemerides</H3> 

Externally generated SP3c is the only format currently supported for
ingestion.  Examples of loading <I>SP3c</I> formatted
ephemeris from the file <I>nsgf.orb.lageos2.210626.v70.sp3</I> with
orbit names <I>nsgf_lageos2h</I> and <I>nsgf_lageos2t</I> are:

<PRE>
EphemerisFile nsgf_lageos2h  SP3c Hermite nsgf.orb.lageos2.210626.v70.sp3;
EphemerisFile nsgf_lageos2t  SP3c Chebyshev nsgf.orb.lageos2.210626.v70.sp3;
</PRE>

<I>Hermite</I> interpolation is performed for the first entry.  Each
interpolator is fit to two state vectors (position and velocity) with
acceleration generated by a simple J4 gravity model.  Hermite
interpolation assumes velocity is the derivative of position, and should
therefore be suitable for externally generated precision ephemerides.
This assumption would not necessarily be valid for ephemererides generated
via analytic (GP) propagation methods.  The assumption that a J4 gravity
model is sufficient to improve the fit must also be valid (typically a
very good assumption).  The resulting 5th order polynomial explicitly
maintains continuity through acceleration and smoothness through
velocity.  Continuity and smoothness are implicitly maintained to higher
degrees than the 2nd derivative.

Chebyshev interpolation currently fits position and velocity separately,
eliminating the requirement that velocity be the derivative of position.
This interpolation method currently fits 9 points to an 8th order
polynomial, ensuring endpoints match between polynomials.  More
refinement to the implementation is expected, most likely through the
fitting of more points with endpoint matching constraints.

<P>

<DIV ALIGN="center">
<A HREF="../eom.html">eomx User Guide Home</A>
</DIV>

</BODY>
</HTML>
